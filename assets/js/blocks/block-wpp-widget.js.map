{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Block/Widget/edit.js","webpack:///./src/Block/Widget/widget.js","webpack:///./src/Block/icons.js","webpack:///./src/Block/utils.js"],"names":["ServerSideRender","wp","editor","element","Component","Fragment","BlockControls","blockEditor","components","Button","CheckboxControl","Disabled","SelectControl","Spinner","TextareaControl","TextControl","Toolbar","__","i18n","endpoint","WPPWidgetBlockEdit","props","state","error","editMode","themes","imgSizes","taxonomies","attributes","getThemes","getImageSizes","getTaxonomies","setState","_editMode","apiFetch","path","then","tax","split","term_id","length","selected_taxonomies","t","_terms","setAttributes","_self","onPreviewChange","onTitleChange","value","escape_html","unescape_html","title","onLimitChange","limit","Number","isInteger","onOrderByChange","order_by","onTimeRangeChange","range","onTimeQuantityChange","qty","time_quantity","onTimeUnitChange","time_unit","onFreshnessChange","freshness","label","onPostTypeChange","new_value","replace","console","log","sanitize_text_field","post_type","onPostIDExcludeChange","pid","onAuthorChange","author","onTaxChange","taxonomy_name","terms","onTaxBlur","terms_arr","map","term","trim","filter","Array","from","Set","join","key","hasOwnProperty","RegExp","push","name","labels","singular_name","onShortenTitleChange","title_length","title_by_words","shorten_title","onTitleLengthChange","onDisplayExcerptChange","excerpt_length","excerpt_by_words","display_post_excerpt","onExcerptLengthChange","onDisplayThumbnailChange","thumbnail_width","thumbnail_height","display_post_thumbnail","onThumbnailDimChange","dim","width","onThumbnailBuildChange","fallback","sizes","height","thumbnail_size","thumbnail_build","onThumbnailSizeChange","size","excerpt_format","stats_comments","stats_views","stats_author","stats_date","stats_date_format","stats_taxonomy","taxonomy","onThemeChange","config","json","active","words","format","thumbnail","build","stats_tag","comment_count","views","date","custom_html","wpp_start","markup","wpp_end","post_html","theme","header_start","header_end","isSelected","className","classes","getBlockControls","getMainFields","getFiltersFields","getPostSettingsFields","getStatsTagFields","getHTMLMarkupFields","registerBlockType","blocks","category","icon","icons","flame","description","keywords","type","offset","supports","anchor","align","html","example","edit","save","reg","match","div","document","createElement","innerHTML","child","childNodes","nodeValue"],"mappings":"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","file":"block-wpp-widget.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/Block/Widget/widget.js\");\n","import { escape_html, unescape_html } from '../utils';\r\n\r\nconst { ServerSideRender } = wp.editor;\r\nconst { Component, Fragment } = wp.element;\r\nconst { BlockControls } = wp.blockEditor;\r\nconst { Button, CheckboxControl, Disabled, SelectControl, Spinner, TextareaControl, TextControl, Toolbar } = wp.components;\r\nconst { __ } = wp.i18n;\r\nconst endpoint = 'wordpress-popular-posts/v1';\r\n\r\nexport class WPPWidgetBlockEdit extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n\r\n        this.state = {\r\n            error: null,\r\n            editMode: true,\r\n            themes: null,\r\n            imgSizes: null,\r\n            taxonomies: null\r\n        }\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n        const { attributes } = this.props;\r\n\r\n        this.getThemes();\r\n        this.getImageSizes();\r\n        this.getTaxonomies();\r\n\r\n        this.setState({ editMode: attributes._editMode });\r\n    }\r\n\r\n    getThemes()\r\n    {\r\n        wp.apiFetch({ path: endpoint + '/themes' })\r\n        .then(\r\n            ( themes ) => {\r\n                this.setState({\r\n                    themes\r\n                });\r\n            },\r\n            ( error ) => {\r\n                this.setState({\r\n                    error,\r\n                    themes: null\r\n                });\r\n            }\r\n        );\r\n    }\r\n\r\n    getImageSizes()\r\n    {\r\n        wp.apiFetch({ path: endpoint + '/thumbnails' })\r\n        .then(\r\n            ( imgSizes ) => {\r\n                this.setState({\r\n                    imgSizes\r\n                });\r\n            },\r\n            ( error ) => {\r\n                this.setState({\r\n                    error,\r\n                    imgSizes: null\r\n                });\r\n            }\r\n        );\r\n    }\r\n\r\n    getTaxonomies()\r\n    {\r\n        const { attributes } = this.props;\r\n\r\n        wp.apiFetch({ path: endpoint + '/taxonomies' })\r\n        .then(\r\n            ( taxonomies ) => {\r\n                if ( taxonomies ) {\r\n                    let tax = attributes.tax.split(';'),\r\n                        term_id = attributes.term_id.split(';');\r\n\r\n                    if ( tax.length && tax.length == term_id.length ) {\r\n                        let selected_taxonomies = {};\r\n\r\n                        for( var t = 0; t < tax.length; t++ ) {\r\n                            selected_taxonomies[tax[t]] = term_id[t];\r\n                        }\r\n\r\n                        for( const tax in taxonomies ) {\r\n                            taxonomies[tax]._terms = 'undefined' != typeof selected_taxonomies[tax] ? selected_taxonomies[tax] : '';\r\n                        }\r\n                    }\r\n                }\r\n\r\n                this.setState({\r\n                    taxonomies\r\n                });\r\n            },\r\n            ( error ) => {\r\n                this.setState({\r\n                    error,\r\n                    taxonomies: null\r\n                });\r\n            }\r\n        );\r\n    }\r\n\r\n    getBlockControls()\r\n    {\r\n        const { setAttributes } = this.props;\r\n        const _self = this;\r\n\r\n        function onPreviewChange()\r\n        {\r\n            let editMode = ! _self.state.editMode;\r\n            _self.setState({ editMode: editMode });\r\n            setAttributes({ _editMode: editMode });\r\n        }\r\n\r\n        return (\r\n            <BlockControls>\r\n                <Toolbar>\r\n                    <Button\r\n                        label={ this.state.editMode ? __('Preview', 'wordpress-popular-posts') : __('Preview', 'wordpress-popular-posts') }\r\n                        icon={ this.state.editMode ? \"format-image\" : \"edit\" }\r\n                        onClick={onPreviewChange}\r\n                    />\r\n                </Toolbar>\r\n            </BlockControls>\r\n        );\r\n    }\r\n\r\n    getMainFields()\r\n    {\r\n        const { attributes, setAttributes } = this.props;\r\n\r\n        function onTitleChange(value)\r\n        {\r\n            value = escape_html(unescape_html(value));\r\n            setAttributes({ title: value });\r\n        }\r\n\r\n        function onLimitChange(value)\r\n        {\r\n            let limit = Number.isInteger(Number(value)) && Number(value) > 0 ? value : 10;\r\n            setAttributes({ limit: Number(limit) });\r\n        }\r\n\r\n        function onOrderByChange(value)\r\n        {\r\n            setAttributes({ order_by: value });\r\n        }\r\n\r\n        function onTimeRangeChange(value)\r\n        {\r\n            setAttributes({ range: value });\r\n        }\r\n\r\n        function onTimeQuantityChange(value) {\r\n            let qty = Number.isInteger(Number(value)) && Number(value) > 0 ? value : 24;\r\n            setAttributes({ time_quantity: Number(qty) });\r\n        }\r\n\r\n        function onTimeUnitChange(value) {\r\n            setAttributes({ time_unit: value });\r\n        }\r\n\r\n        function onFreshnessChange(value)\r\n        {\r\n            setAttributes({ freshness: value });\r\n        }\r\n\r\n        return <Fragment>\r\n            <TextControl\r\n                label={__('Title', 'wordpress-popular-posts')}\r\n                value={attributes.title}\r\n                onChange={onTitleChange}\r\n            />\r\n            <TextControl\r\n                label={__('Limit', 'wordpress-popular-posts')}\r\n                value={attributes.limit}\r\n                onChange={onLimitChange}\r\n            />\r\n            <SelectControl\r\n                label={__('Sort posts by', 'wordpress-popular-posts')}\r\n                value={attributes.order_by}\r\n                options={[\r\n                    {label: __('Total views', 'wordpress-popular-posts'), value: 'views'},\r\n                    {label: __('Comments', 'wordpress-popular-posts'), value: 'comments'}\r\n                ]}\r\n                onChange={onOrderByChange}\r\n            />\r\n            <SelectControl\r\n                label={__('Time Range', 'wordpress-popular-posts')}\r\n                value={attributes.range}\r\n                options={[\r\n                    {label: __('Last 24 Hours', 'wordpress-popular-posts'), value: 'last24hours'},\r\n                    {label: __('Last 7 days', 'wordpress-popular-posts'), value: 'last7days'},\r\n                    {label: __('Last 30 days', 'wordpress-popular-posts'), value: 'last30days'},\r\n                    {label: __('All-time', 'wordpress-popular-posts'), value: 'all'},\r\n                    {label: __('Custom', 'wordpress-popular-posts'), value: 'custom'},\r\n                ]}\r\n                onChange={onTimeRangeChange}\r\n            />\r\n            { 'custom' == attributes.range &&\r\n                <div className='option-subset'>\r\n                    <TextControl\r\n                        label={__('Time Quantity', 'wordpress-popular-posts')}\r\n                        value={attributes.time_quantity}\r\n                        onChange={onTimeQuantityChange}\r\n                    />\r\n                    <SelectControl\r\n                        label={__('Time Unit', 'wordpress-popular-posts')}\r\n                        value={attributes.time_unit}\r\n                        options={[\r\n                            {label: __('Minute(s)', 'wordpress-popular-posts'), value: 'minute'},\r\n                            {label: __('Hour(s)', 'wordpress-popular-posts'), value: 'hour'},\r\n                            {label: __('Day(s)', 'wordpress-popular-posts'), value: 'day'}\r\n                        ]}\r\n                        onChange={onTimeUnitChange}\r\n                    />\r\n                </div>\r\n            }\r\n            <CheckboxControl\r\n                label={__('Display only posts published within the selected Time Range', 'wordpress-popular-posts')}\r\n                checked={attributes.freshness}\r\n                onChange={onFreshnessChange}\r\n            />\r\n        </Fragment>;\r\n    }\r\n\r\n    getFiltersFields()\r\n    {\r\n        const { attributes, setAttributes } = this.props;\r\n        const _self = this;\r\n\r\n        function onPostTypeChange(value)\r\n        {\r\n            let new_value = value.replace(/[^a-z0-9-_\\,]+/gi, '');\r\n            console.log(new_value);\r\n            console.log(sanitize_text_field(value));\r\n            setAttributes({ post_type: new_value });\r\n        }\r\n\r\n        function onPostIDExcludeChange(value)\r\n        {\r\n            let new_value = value.replace(/[^0-9\\,]/g, '');\r\n            setAttributes({ pid: new_value });\r\n        }\r\n\r\n        function onAuthorChange(value)\r\n        {\r\n            let new_value = value.replace(/[^0-9\\,]/g, '');\r\n            setAttributes({ author: new_value });\r\n        }\r\n\r\n        function onTaxChange(taxonomy_name, terms)\r\n        {\r\n            let taxonomies = _self.state.taxonomies;\r\n\r\n            terms = terms.replace(/[^0-9-\\,]/g, '');\r\n\r\n            if ( taxonomies && 'undefined' != typeof taxonomies[taxonomy_name] ) {\r\n                taxonomies[taxonomy_name]._terms = terms;\r\n                _self.setState({ taxonomies: taxonomies });\r\n            }\r\n        }\r\n\r\n        function onTaxBlur(taxonomy_name)\r\n        {\r\n            let taxonomies = _self.state.taxonomies;\r\n\r\n            if ( taxonomies && 'undefined' != typeof taxonomies[taxonomy_name] ) {\r\n                let terms_arr = taxonomies[taxonomy_name]._terms.split(',');\r\n\r\n                // Remove invalid values\r\n                if ( terms_arr.length )\r\n                    terms_arr = terms_arr.map((term) => term.trim())\r\n                        .filter((term) => '' != term && '-' != term);\r\n\r\n                // Remove duplicates\r\n                if ( terms_arr.length )\r\n                    terms_arr = Array.from(new Set(terms_arr));\r\n\r\n                taxonomies[taxonomy_name]._terms = terms_arr.join(',');\r\n\r\n                _self.setState({ taxonomies });\r\n\r\n                let tax = '',\r\n                    term_id = '';\r\n\r\n                for ( let key in _self.state.taxonomies ) {\r\n                    if ( _self.state.taxonomies.hasOwnProperty(key) ) {\r\n\r\n                        if ( ! _self.state.taxonomies[key]._terms.length )\r\n                            continue;\r\n\r\n                        tax += key + ';';\r\n                        term_id += _self.state.taxonomies[key]._terms + ';';\r\n                    }\r\n                }\r\n\r\n                // Remove trailing semicolon\r\n                if ( tax && term_id ) {\r\n                    tax = tax.replace(new RegExp(';$'), '');\r\n                    term_id = term_id.replace(new RegExp(';$'), '');\r\n                }\r\n\r\n                setAttributes({ tax: tax, term_id: term_id });\r\n            }\r\n        }\r\n\r\n        let taxonomies = [];\r\n\r\n        if ( this.state.taxonomies ) {\r\n            for( const tax in this.state.taxonomies ) {\r\n                taxonomies.push(\r\n                    {\r\n                        name: this.state.taxonomies[tax].name,\r\n                        label: this.state.taxonomies[tax].labels.singular_name + ' (' + this.state.taxonomies[tax].name + ')',\r\n                        terms: this.state.taxonomies[tax]._terms\r\n                    }\r\n                );\r\n            }\r\n        }\r\n\r\n        return <Fragment>\r\n            <p className='not-a-legend'><strong>{__('Filters', 'wordpress-popular-posts')}</strong></p>\r\n            <TextControl\r\n                label={__('Post type(s)', 'wordpress-popular-posts')}\r\n                help={__('Post types must be comma separated.', 'wordpress-popular-posts')}\r\n                value={attributes.post_type}\r\n                onChange={onPostTypeChange}\r\n            />\r\n            <TextControl\r\n                label={__('Post ID(s) to exclude', 'wordpress-popular-posts')}\r\n                help={__('IDs must be comma separated.', 'wordpress-popular-posts')}\r\n                value={attributes.pid}\r\n                onChange={onPostIDExcludeChange}\r\n            />\r\n            <TextControl\r\n                label={__('Author ID(s)', 'wordpress-popular-posts')}\r\n                help={__('IDs must be comma separated.', 'wordpress-popular-posts')}\r\n                value={attributes.author}\r\n                onChange={onAuthorChange}\r\n            />\r\n            { taxonomies && taxonomies.filter((tax) => 'post_format' != tax.name).map((tax) =>\r\n                {\r\n                    return (\r\n                        <TextControl\r\n                            label={tax.label}\r\n                            help={__('Term IDs must be comma separated, prefix a minus sign to exclude.', 'wordpress-popular-posts')}\r\n                            value={tax.terms}\r\n                            onChange={(terms) => onTaxChange(tax.name, terms)}\r\n                            onBlur={() => onTaxBlur(tax.name)}\r\n                        />\r\n                    );\r\n                }\r\n            )}\r\n        </Fragment>;\r\n    }\r\n\r\n    getPostSettingsFields()\r\n    {\r\n        const { attributes, setAttributes } = this.props;\r\n        const _self = this;\r\n\r\n        function onShortenTitleChange(value) {\r\n            if ( false == value ) \r\n                setAttributes({ title_length: 0, title_by_words: 0, shorten_title: value });\r\n            else\r\n                setAttributes({ shorten_title: value, title_length: 25 });\r\n        }\r\n\r\n        function onTitleLengthChange(value)\r\n        {\r\n            let length = Number.isInteger(Number(value)) && Number(value) >= 0 ? value : 0;\r\n            setAttributes({ title_length: Number(length) });\r\n        }\r\n\r\n        function onDisplayExcerptChange(value) {\r\n            if ( false == value )\r\n                setAttributes({ excerpt_length: 0, excerpt_by_words: 0, display_post_excerpt: value });\r\n            else\r\n                setAttributes({ display_post_excerpt: value, excerpt_length: 55 });\r\n        }\r\n\r\n        function onExcerptLengthChange(value)\r\n        {\r\n            let length = Number.isInteger(Number(value)) && Number(value) >= 0 ? value : 0;\r\n            setAttributes({ excerpt_length: Number(length) });\r\n        }\r\n\r\n        function onDisplayThumbnailChange(value) {\r\n            if ( false == value )\r\n                setAttributes({ thumbnail_width: 0, thumbnail_height: 0, display_post_thumbnail: value });\r\n            else\r\n                setAttributes({ thumbnail_width: 75, thumbnail_height: 75, display_post_thumbnail: value });\r\n        }\r\n\r\n        function onThumbnailDimChange(dim, value)\r\n        {\r\n            let width = Number.isInteger(Number(value)) && Number(value) >= 0 ? value : 0;\r\n            setAttributes(( 'width' == dim ? { thumbnail_width: Number(width) } : { thumbnail_height: Number(width) } ));\r\n        }\r\n\r\n        function onThumbnailBuildChange(value)\r\n        {\r\n            if ( 'predefined' == value ) {\r\n                let fallback = 0;\r\n\r\n                setAttributes({\r\n                    thumbnail_width: _self.state.imgSizes[sizes[fallback].value].width,\r\n                    thumbnail_height: _self.state.imgSizes[sizes[fallback].value].height,\r\n                    thumbnail_size: sizes[fallback].value\r\n                });\r\n            }\r\n            setAttributes({ thumbnail_build: value });\r\n        }\r\n\r\n        function onThumbnailSizeChange(value) {\r\n            setAttributes({\r\n                thumbnail_width: _self.state.imgSizes[value].width,\r\n                thumbnail_height: _self.state.imgSizes[value].height,\r\n                thumbnail_size: value\r\n            });\r\n        }\r\n\r\n        let sizes = [];\r\n\r\n        if ( this.state.imgSizes ) {\r\n            for( const size in this.state.imgSizes ) {\r\n                sizes.push(\r\n                    {\r\n                        label: size,\r\n                        value: size\r\n                    },\r\n                );\r\n            }\r\n        }\r\n\r\n        return <Fragment>\r\n            <p className='not-a-legend'><strong>{__('Posts settings', 'wordpress-popular-posts')}</strong></p>\r\n            <CheckboxControl\r\n                label={__('Shorten title', 'wordpress-popular-posts')}\r\n                checked={attributes.shorten_title}\r\n                onChange={onShortenTitleChange}\r\n            />\r\n            { attributes.shorten_title &&\r\n                <div className='option-subset'>\r\n                    <TextControl\r\n                        label={__('Shorten title to', 'wordpress-popular-posts')}\r\n                        value={attributes.title_length}\r\n                        onChange={onTitleLengthChange}\r\n                    />\r\n                    <SelectControl\r\n                        value={attributes.title_by_words}\r\n                        options={[\r\n                            { label: __('characters', 'wordpress-popular-posts'), value: 0 },\r\n                            { label: __('words', 'wordpress-popular-posts'), value: 1 },\r\n                        ]}\r\n                        onChange={(value) => setAttributes({ title_by_words: Number(value) })}\r\n                    />\r\n                </div>\r\n            }\r\n            <CheckboxControl\r\n                label={__('Display post excerpt', 'wordpress-popular-posts')}\r\n                checked={attributes.display_post_excerpt}\r\n                onChange={onDisplayExcerptChange}\r\n            />\r\n            { attributes.display_post_excerpt && \r\n                <div className='option-subset'>\r\n                    <CheckboxControl\r\n                        label={__('Keep text format and links', 'wordpress-popular-posts')}\r\n                        checked={attributes.excerpt_format}\r\n                        onChange={(value) => setAttributes({ excerpt_format: value })}\r\n                    />\r\n                    <TextControl\r\n                        label={__('Excerpt length', 'wordpress-popular-posts')}\r\n                        value={attributes.excerpt_length}\r\n                        onChange={onExcerptLengthChange}\r\n                    />\r\n                    <SelectControl\r\n                        value={attributes.excerpt_by_words}\r\n                        options={[\r\n                            { label: __('characters', 'wordpress-popular-posts'), value: 0 },\r\n                            { label: __('words', 'wordpress-popular-posts'), value: 1 },\r\n                        ]}\r\n                        onChange={(value) => setAttributes({ excerpt_by_words: Number(value) })}\r\n                    />\r\n                </div>\r\n            }\r\n            <CheckboxControl\r\n                label={__('Display post thumbnail', 'wordpress-popular-posts')}\r\n                checked={attributes.display_post_thumbnail}\r\n                onChange={onDisplayThumbnailChange}\r\n            />\r\n            { attributes.display_post_thumbnail && \r\n                <div className='option-subset'>\r\n                    <SelectControl\r\n                        value={attributes.thumbnail_build}\r\n                        options={[\r\n                            { label: __('Set size manually', 'wordpress-popular-posts'), value: 'manual' },\r\n                            { label: __('Use predefined size', 'wordpress-popular-posts'), value: 'predefined' },\r\n                        ]}\r\n                        onChange={onThumbnailBuildChange}\r\n                    />\r\n                    { 'manual' == attributes.thumbnail_build &&\r\n                        <Fragment>\r\n                            <TextControl\r\n                                label={__('Thumbnail width', 'wordpress-popular-posts')}\r\n                                help={__('Size in px units (pixels)', 'wordpress-popular-posts')}\r\n                                value={attributes.thumbnail_width}\r\n                                onChange={(value) => onThumbnailDimChange('width', value)}\r\n                            />\r\n                            <TextControl\r\n                                label={__('Thumbnail height', 'wordpress-popular-posts')}\r\n                                help={__('Size in px units (pixels)', 'wordpress-popular-posts')}\r\n                                value={attributes.thumbnail_height}\r\n                                onChange={(value) => onThumbnailDimChange('height', value)}\r\n                            />\r\n                        </Fragment>\r\n                    }\r\n                    { 'predefined' == attributes.thumbnail_build &&\r\n                        <Fragment>\r\n                            <SelectControl\r\n                                value={attributes.thumbnail_size}\r\n                                options={sizes}\r\n                                onChange={onThumbnailSizeChange}\r\n                            />\r\n                        </Fragment>\r\n                    }\r\n                </div>\r\n            }\r\n        </Fragment>;\r\n    }\r\n\r\n    getStatsTagFields()\r\n    {\r\n        const { attributes, setAttributes } = this.props;\r\n\r\n        let taxonomies = [];\r\n\r\n        if ( this.state.taxonomies ) {\r\n            for( const tax in this.state.taxonomies ) {\r\n                taxonomies.push(\r\n                    {\r\n                        label: this.state.taxonomies[tax].labels.singular_name + ' (' + this.state.taxonomies[tax].name + ')',\r\n                        value: this.state.taxonomies[tax].name\r\n                    },\r\n                );\r\n            }\r\n        }\r\n\r\n        return <Fragment>\r\n            <p className='not-a-legend'><strong>{__('Stats Tag settings', 'wordpress-popular-posts')}</strong></p>\r\n            <CheckboxControl\r\n                label={__('Display comments count', 'wordpress-popular-posts')}\r\n                checked={attributes.stats_comments}\r\n                onChange={(value) => setAttributes({ stats_comments: value })}\r\n            />\r\n            <CheckboxControl\r\n                label={__('Display views', 'wordpress-popular-posts')}\r\n                checked={attributes.stats_views}\r\n                onChange={(value) => setAttributes({ stats_views: value })}\r\n            />\r\n            <CheckboxControl\r\n                label={__('Display author', 'wordpress-popular-posts')}\r\n                checked={attributes.stats_author}\r\n                onChange={(value) => setAttributes({ stats_author: value })}\r\n            />\r\n            <CheckboxControl\r\n                label={__('Display date', 'wordpress-popular-posts')}\r\n                checked={attributes.stats_date}\r\n                onChange={(value) => setAttributes({ stats_date: value })}\r\n            />\r\n            { attributes.stats_date && \r\n                <div className='option-subset'>\r\n                    <SelectControl\r\n                        label={__('Date Format', 'wordpress-popular-posts')}\r\n                        value={attributes.stats_date_format}\r\n                        options={[\r\n                            { label: __('Relative', 'wordpress-popular-posts'), value: 'relative' },\r\n                            { label: __('Month Day, Year', 'wordpress-popular-posts'), value: 'F j, Y' },\r\n                            { label: __('yyyy/mm/dd', 'wordpress-popular-posts'), value: 'Y/m/d' },\r\n                            { label: __('mm/dd/yyyy', 'wordpress-popular-posts'), value: 'm/d/Y' },\r\n                            { label: __('dd/mm/yyyy', 'wordpress-popular-posts'), value: 'd/m/Y' },\r\n                        ]}\r\n                        onChange={(value) => setAttributes({ stats_date_format: value })}\r\n                    />\r\n                </div>\r\n            }\r\n            <CheckboxControl\r\n                label={__('Display taxonomy', 'wordpress-popular-posts')}\r\n                checked={attributes.stats_taxonomy}\r\n                onChange={(value) => setAttributes({ stats_taxonomy: value })}\r\n            />\r\n            { attributes.stats_taxonomy && \r\n                <div className='option-subset'>\r\n                    <SelectControl\r\n                        label={__('Taxonomy', 'wordpress-popular-posts')}\r\n                        value={attributes.taxonomy}\r\n                        options={taxonomies}\r\n                        onChange={(value) => setAttributes({ taxonomy: value })}\r\n                    />\r\n                </div>\r\n            }\r\n        </Fragment>;\r\n    }\r\n\r\n    getHTMLMarkupFields()\r\n    {\r\n        const { attributes, setAttributes } = this.props;\r\n        const _self = this;\r\n\r\n        function onThemeChange(value)\r\n        {\r\n            if ( 'undefined' != typeof _self.state.themes[value] ) {\r\n                let config = _self.state.themes[value].json.config;\r\n\r\n                setAttributes({\r\n                    shorten_title: config.shorten_title.active,\r\n                    title_length: config.shorten_title.title_length,\r\n                    title_by_words: config.shorten_title.words ? 1 : 0,\r\n                    display_post_excerpt: config['post-excerpt'].active,\r\n                    excerpt_format: config['post-excerpt'].format,\r\n                    excerpt_length: config['post-excerpt'].length,\r\n                    excerpt_by_words: config['post-excerpt'].words ? 1 : 0,\r\n                    display_post_thumbnail: config.thumbnail.active,\r\n                    thumbnail_build: config.thumbnail.build,\r\n                    thumbnail_width: config.thumbnail.width,\r\n                    thumbnail_height: config.thumbnail.height,\r\n                    stats_comments: config.stats_tag.comment_count,\r\n                    stats_views: config.stats_tag.views,\r\n                    stats_author: config.stats_tag.author,\r\n                    stats_date: config.stats_tag.date.active,\r\n                    stats_date_format: config.stats_tag.date.format,\r\n                    stats_taxonomy: config.stats_tag.taxonomy.active,\r\n                    taxonomy: config.stats_tag.taxonomy.name,\r\n                    custom_html: true,\r\n                    wpp_start: config.markup['wpp-start'],\r\n                    wpp_end: config.markup['wpp-end'],\r\n                    post_html: config.markup['post-html'],\r\n                    theme: value\r\n                });\r\n            } else {\r\n                setAttributes({ theme: value });\r\n            }\r\n        }\r\n\r\n        let themes = [\r\n            {\r\n                label: __('None', 'wordpress-popular-posts'),\r\n                value: ''\r\n            },\r\n        ];\r\n\r\n        if ( this.state.themes ) {\r\n            for( const theme in this.state.themes ) {\r\n                themes.push(\r\n                    {\r\n                        label: this.state.themes[theme].json.name,\r\n                        value: theme\r\n                    },\r\n                );\r\n            }\r\n        }\r\n\r\n        return <Fragment>\r\n            <p className='not-a-legend'><strong>{__('HTML Markup settings', 'wordpress-popular-posts')}</strong></p>\r\n            <CheckboxControl\r\n                label={__('Use custom HTML Markup', 'wordpress-popular-posts')}\r\n                checked={attributes.custom_html}\r\n                onChange={(value) => setAttributes({ custom_html: value })}\r\n            />\r\n            { attributes.custom_html &&\r\n                <div className='option-subset'>\r\n                    <TextareaControl\r\n                        rows=\"1\"\r\n                        label={__('Before title', 'wordpress-popular-posts')}\r\n                        value={attributes.header_start}\r\n                        onChange={(value) => setAttributes({ header_start: value })}\r\n                    />\r\n                    <TextareaControl\r\n                        rows=\"1\"\r\n                        label={__('After title', 'wordpress-popular-posts')}\r\n                        value={attributes.header_end}\r\n                        onChange={(value) => setAttributes({ header_end: value })}\r\n                    />\r\n                    <TextareaControl\r\n                        rows=\"1\"\r\n                        label={__('Before popular posts', 'wordpress-popular-posts')}\r\n                        value={attributes.wpp_start}\r\n                        onChange={(value) => setAttributes({ wpp_start: value })}\r\n                    />\r\n                    <TextareaControl\r\n                        rows=\"1\"\r\n                        label={__('After popular posts', 'wordpress-popular-posts')}\r\n                        value={attributes.wpp_end}\r\n                        onChange={(value) => setAttributes({ wpp_end: value })}\r\n                    />\r\n                    <TextareaControl\r\n                        label={__('Post HTML markup', 'wordpress-popular-posts')}\r\n                        value={attributes.post_html}\r\n                        onChange={(value) => setAttributes({ post_html: value })}\r\n                    />\r\n                </div>\r\n            }\r\n            <SelectControl\r\n                label={__('Theme', 'wordpress-popular-posts')}\r\n                value={attributes.theme}\r\n                options={themes}\r\n                onChange={onThemeChange}\r\n            />\r\n        </Fragment>;\r\n    }\r\n\r\n    render()\r\n    {\r\n        if ( ! this.state.taxonomies || ! this.state.themes || ! this.state.imgSizes )\r\n            return <Spinner />;\r\n\r\n        const { isSelected, className, attributes } = this.props;\r\n\r\n        let classes = className;\r\n        classes += this.state.editMode ? ' in-edit-mode' : ' in-preview-mode';\r\n        classes += isSelected ? ' is-selected' : '';\r\n\r\n        return ([\r\n            this.getBlockControls(),\r\n            <div className={classes}>\r\n                { this.state.editMode &&\r\n                    <Fragment>\r\n                        {this.getMainFields()}\r\n                        {this.getFiltersFields()}\r\n                        {this.getPostSettingsFields()}\r\n                        {this.getStatsTagFields()}\r\n                        {this.getHTMLMarkupFields()}\r\n                    </Fragment>\r\n                }\r\n                { ! this.state.editMode &&\r\n                    <Disabled>\r\n                        <ServerSideRender\r\n                            block={this.props.name}\r\n                            className={className}\r\n                            attributes={attributes}\r\n                        />\r\n                    </Disabled>\r\n                }\r\n            </div>\r\n        ]);\r\n    }\r\n}\r\n","import icons from '../icons';\r\nimport { WPPWidgetBlockEdit } from './edit';\r\n\r\nconst { registerBlockType } = wp.blocks;\r\nconst { __ } = wp.i18n;\r\n\r\nregisterBlockType('wordpress-popular-posts/widget', {\r\n    title: 'WordPress Popular Posts',\r\n    category: 'widgets',\r\n    icon: icons.flame,\r\n    description: __('A highly customizable block that displays your most popular posts.', 'wordpress-popular-posts'),\r\n    keywords: ['popular', 'posts', 'trending', 'popularity'],\r\n\r\n    attributes: {\r\n        _editMode: {\r\n            type: 'boolean',\r\n            default: true\r\n        },\r\n        title: {\r\n            type: 'string',\r\n        },\r\n        limit: {\r\n            type: 'number',\r\n            default: 10\r\n        },\r\n        offset: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        order_by: {\r\n            type: 'string',\r\n            default: 'views'\r\n        },\r\n        range: {\r\n            type: 'string',\r\n            default: 'last24hours'\r\n        },\r\n        time_quantity: {\r\n            type: 'number',\r\n            default: 24\r\n        },\r\n        time_unit: {\r\n            type: 'string',\r\n            default: 'hour'\r\n        },\r\n        freshness: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        /* filters */\r\n        post_type: {\r\n            type: 'string',\r\n            default: 'post'\r\n        },\r\n        pid: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        author: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        tax: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        term_id: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        /* post settings */\r\n        shorten_title: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        title_length: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        title_by_words: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        display_post_excerpt: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        excerpt_format: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        excerpt_length: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        excerpt_by_words: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        display_post_thumbnail: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        thumbnail_width: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        thumbnail_height: {\r\n            type: 'number',\r\n            default: 0\r\n        },\r\n        thumbnail_build: {\r\n            type: 'string',\r\n            default: 'manual'\r\n        },\r\n        thumbnail_size: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        /* stats tag settings */\r\n        stats_comments: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        stats_views: {\r\n            type: 'boolean',\r\n            default: true\r\n        },\r\n        stats_author: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        stats_date: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        stats_date_format: {\r\n            type: 'string',\r\n            default: 'F j, Y'\r\n        },\r\n        stats_taxonomy: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        taxonomy: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n        /* HTML markup settings */\r\n        custom_html: {\r\n            type: 'boolean',\r\n            default: false\r\n        },\r\n        header_start: {\r\n            type: 'string',\r\n            default: '<h2>'\r\n        },\r\n        header_end: {\r\n            type: 'string',\r\n            default: '</h2>'\r\n        },\r\n        wpp_start: {\r\n            type: 'string',\r\n            default: '<ul class=\"wpp-list\">'\r\n        },\r\n        wpp_end: {\r\n            type: 'string',\r\n            default: '</ul>'\r\n        },\r\n        post_html: {\r\n            type: 'string',\r\n            default: '<li>{thumb} {title} <span class=\"wpp-meta post-stats\">{stats}</span></li>'\r\n        },\r\n        theme: {\r\n            type: 'string',\r\n            default: ''\r\n        },\r\n    },\r\n    supports: {\r\n        anchor: true,\r\n        align: true,\r\n        html: false\r\n    },\r\n    example: {\r\n        attributes: {\r\n            _editMode: false,\r\n            title: 'Popular Posts',\r\n            limit: 3,\r\n            range: 'last7days',\r\n            display_post_excerpt: true,\r\n            excerpt_length: 75,\r\n            display_post_thumbnail: true,\r\n            thumbnail_width: 75,\r\n            thumbnail_height: 75,\r\n            stats_views: false,\r\n            stats_taxonomy: true,\r\n            custom_html: true,\r\n            wpp_start: '<ul class=\"wpp-list wpp-cards\">',\r\n            post_html: '<li>{thumb_img} <div class=\"wpp-item-data\"><div class=\"taxonomies\">{taxonomy}</div>{title} <p class=\"wpp-excerpt\">{excerpt}</p></div></li>',\r\n            theme: 'cards'\r\n        }\r\n    },\r\n\r\n    edit: WPPWidgetBlockEdit,\r\n\r\n    save: () => {\r\n        return null;\r\n    }\r\n});\r\n","const icons = {};\r\n\r\nicons.flame = <svg viewBox=\"0 0 248 379\"><path fill=\"#fff\" d=\"M-83,96q0-122.5,0-245H165q0,131,0,262a31.87,31.87,0,0,1-.95-4.33A123.87,123.87,0,0,0,153.47,68.3c-12.28-27.74-31.1-50.64-53-71.21C75.67-26.13,55.85-52,54.32-87.87c-.79-18.47.81-36.24,11.59-52.15,1.08-1.59.38-4.4.5-6.64-2.43.1-5.5-.7-7.18.47a140.91,140.91,0,0,0-17.12,13.72C19.49-110.67,3-84.6-9.51-56A149,149,0,0,0-21.86-3.77c-2,39.4,11.38,73.46,36.17,103.51,1.74,2.11,3.51,4.2,5.27,6.3l-.67,1.07c-3.94-1.07-8-1.83-11.82-3.24C-25.17,91.94-52.36,58.57-51.12,21c.1-2.91.21-6.45-3.51-6.49-2,0-4.76,2.16-5.79,4.09-9.4,17.55-16.35,36-19.73,55.73C-81.38,81.49-82.07,88.76-83,96Z\" transform=\"translate(83 149)\"/><path fill=\"#ba2f2f\" d=\"M-83,96c.93-7.24,1.62-14.51,2.85-21.7,3.38-19.69,10.33-38.18,19.73-55.73,1-1.93,3.83-4.11,5.79-4.09,3.72,0,3.61,3.58,3.51,6.49-1.25,37.59,25.94,71,58.2,82.89,3.82,1.41,7.87,2.18,11.82,3.24l.67-1.07c-1.76-2.1-3.52-4.19-5.27-6.3C-10.49,69.68-23.88,35.63-21.86-3.77A149,149,0,0,1-9.51-56c12.48-28.62,29-54.69,51.62-76.5a140.91,140.91,0,0,1,17.12-13.72c1.68-1.18,4.75-.37,7.18-.47-.13,2.24.58,5-.5,6.64-10.78,15.9-12.37,33.68-11.59,52.15,1.53,35.89,21.35,61.74,46.11,85,21.94,20.57,40.76,43.47,53,71.21a123.87,123.87,0,0,1,10.59,40.36A31.87,31.87,0,0,0,165,113v9c-.7,4.24-1.17,8.54-2.13,12.73-10.74,46.51-37.08,78.75-84.34,91.58C72.16,228,65.52,228.79,59,230H43a25.19,25.19,0,0,0-3.12-1.18c-10-2.37-20.21-4.12-30-7.12-45.83-14-75.19-44.64-89-90.24-2.28-7.52-2.64-15.63-3.88-23.46Q-83,102-83,96ZM61.63-143.61c-6.24,5.39-12.87,10.38-18.64,16.22A229,229,0,0,0-8.77-46.26,138.37,138.37,0,0,0-16.63,23c4.69,32.54,20.21,59.59,42.4,83.23,1.34,1.43,2.7,2.83,4.8,5-15.23,1-28-3.3-39.74-10.64-29.74-18.62-46-45.23-46.8-81a138.75,138.75,0,0,0-7.46,14.67A178.29,178.29,0,0,0-78.24,93.09C-80.9,129.7-68,160.25-42.78,185.71c28.91,29.16,65.19,41.42,105.43,38.91,43.82-2.73,80.34-35.08,93.53-79.39,8.68-29.18,3.11-56.71-10.29-83.15C134.15,38.92,117.71,19.34,99,1.57,85-11.65,71.34-25.28,62.72-42.69,46.33-75.79,44.36-109.22,61.63-143.61Z\" transform=\"translate(83 149)\"/><path fill=\"#fff\" d=\"M-83,108c1.25,7.84,1.61,15.94,3.88,23.46,13.79,45.6,43.15,76.21,89,90.24,9.82,3,20,4.76,30,7.12A25.19,25.19,0,0,1,43,230H-83Q-83,169-83,108Z\" transform=\"translate(83 149)\"/><path fill=\"#fff\" d=\"M59,230c6.52-1.21,13.16-2,19.53-3.69,47.26-12.83,73.6-45.07,84.34-91.58,1-4.18,1.43-8.48,2.13-12.73V230Z\" transform=\"translate(83 149)\"/><path fill=\"#ba2f2f\" d=\"M61.63-143.61c-17.28,34.39-15.3,67.82,1.09,100.92C71.34-25.28,85-11.65,99,1.57c18.75,17.77,35.2,37.35,46.94,60.51,13.4,26.44,19,54,10.29,83.15-13.18,44.31-49.71,76.66-93.53,79.39-40.25,2.51-76.52-9.75-105.43-38.91C-68,160.25-80.9,129.7-78.24,93.09A178.29,178.29,0,0,1-63.45,34.31,138.75,138.75,0,0,1-56,19.64c.77,35.79,17.06,62.4,46.8,81C2.54,108,15.33,112.3,30.56,111.3c-2.1-2.21-3.46-3.62-4.8-5C3.57,82.62-11.94,55.57-16.63,23A138.37,138.37,0,0,1-8.77-46.26,229,229,0,0,1,43-127.38C48.76-133.23,55.39-138.22,61.63-143.61Z\" transform=\"translate(83 149)\"/></svg>\r\n\r\nexport default icons;","export function escape_html(value) {\r\n    const map = {\r\n        '&': '&amp;',\r\n        '<': '&lt;',\r\n        '>': '&gt;',\r\n        '\"': '&quot;',\r\n        \"'\": '&#x27;',\r\n        \"/\": '&#x2F;',\r\n        '`': '&grave;',\r\n    };\r\n    const reg = /[&<>\"'/]/ig;\r\n    return value.replace(reg, (match)=>(map[match]));\r\n}\r\n\r\nexport function unescape_html(value) {\r\n    var div = document.createElement('div');\r\n    div.innerHTML = value;\r\n    var child = div.childNodes[0];\r\n    return child ? child.nodeValue : '';\r\n}\r\n"],"sourceRoot":""}